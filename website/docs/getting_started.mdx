---
title: Getting started
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

[Riverpod]の内部機構に飛び込む前に、まずは基本的なことから始めましょう。  
[Riverpod]をインストールして、「Hello world」を書いてみましょう。

また、[Riverpod]が解決しようとしている問題点を説明したビデオもご覧いただけます。

<div class="player">
  <iframe
    src="https://www.youtube.com/embed/zjBulEwjzeI"
    frameborder="0"
    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen
  ></iframe>
</div>

(注意：このビデオは[Riverpod]の仕組みを説明するものではありません。問題点を説明しているだけです。)

## どのパッケージをインストールするか

何よりもまず、[Riverpod]が複数のパッケージにまたがっており、使い方が微妙に異なることを知っておく必要があります。  
あなたがインストールしたい[Riverpod]のバリエーションは、あなたが作るアプリによって異なります。

どのパッケージを使用するかは、以下の表を参考にしてください。

| app type                  | package name                                                                       | description                                                                          |
| ------------------------- | ---------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------ |
| Flutter + [flutter_hooks] | [hooks_riverpod]                                                                   | [flutter_hooks]と[Riverpod]を一緒に使いながら、ちょっとしたおまけをつける方法です。  |
| Flutter only              | [flutter_riverpod]                                                                 | [flutter_hooks]に依存しない、[Riverpod]の基本的な使用方法です。                      |
| Dart only (No Flutter)    | [riverpod](https://github.com/rrousselGit/river_pod/tree/master/packages/riverpod) | [Riverpod]からFlutterに関連するクラスをすべて取り除いたバージョンです。              |

また、十分に理解できない場合は、この判断グラフを参考にしてください。

![package decision graph](/img/package_decision_graph.svg)

## パッケージのインストール

インストールしたいパッケージが決まったら、`pubspec.yaml`に以下を追加してください。

<Tabs
  groupId="riverpod"
  defaultValue="hooks_riverpod"
  values={[
    { label: 'Flutter + flutter_hooks', value: 'hooks_riverpod', },
    { label: 'Flutter', value: 'flutter_riverpod', },
    { label: 'Dart only', value: 'riverpod', },
  ]}
>
<TabItem value="hooks_riverpod">

```yaml title="pubspec.yaml"
environment:
  sdk: ">=2.12.0-0 <3.0.0"
  flutter: ">=1.17.0"

dependencies:
  flutter:
    sdk: flutter
  flutter_hooks: ^0.17.0
  hooks_riverpod: ^1.0.0-dev.6
```

その後、 `flutter pub get` を実行してください。

</TabItem>
<TabItem value="flutter_riverpod">

```yaml title="pubspec.yaml"
environment:
  sdk: ">=2.12.0-0 <3.0.0"
  flutter: ">=1.17.0"

dependencies:
  flutter:
    sdk: flutter
  flutter_riverpod: ^1.0.0-dev.6
```

その後、 `flutter pub get` を実行してください。

</TabItem>
<TabItem value="riverpod">

```yaml title="pubspec.yaml"
environment:
  sdk: ">=2.12.0-0 <3.0.0"

dependencies:
  riverpod: ^1.0.0-dev.6
```

その後、 `pub get` を実行してください。

</TabItem>
</Tabs>
これで完了です。あなたのアプリに[Riverpod]が追加されました！

## 利用例: Hello world

さて、[Riverpod]のインストールが完了したので、早速使ってみましょう。

次のスニペットは、新しい依存関係を使って「Hello world」を作る方法を紹介しています。

<Tabs
  groupId="riverpod"
  defaultValue="hooks_riverpod"
  values={[
    { label: "Flutter + flutter_hooks", value: "hooks_riverpod" },
    { label: "Flutter", value: "flutter_riverpod" },
    { label: "Dart only", value: "riverpod" },
  ]}
>
<TabItem value="hooks_riverpod">

```dart title="lib/main.dart"
import 'package:flutter/material.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:flutter_hooks/flutter_hooks.dart';

// ここでは、値（ここでは "Hello world"）を格納する "provider "を作成します。
// プロバイダを使用することで、公開された値をモック/オーバーライドすることができます。
final helloWorldProvider = Provider((_) => 'Hello world');

void main() {
  runApp(
    // ウィジェットがプロバイダを読み込めるようにするためには、
    // アプリケーション全体を「ProviderScope」ウィジェットで包む必要があります。
    // ここには、私たちのプロバイダーの状態が保存されます。
    ProviderScope(
      child: MyApp(),
    ),
  );
}

// 注：MyAppは、flutter_hooksのHookConsumerWidgetです。
class MyApp extends HookConsumerWidget {
  @override
  Widget build(BuildContext context) {
    // プロバイダを読み取るには、「ref.watch()」というフックを使います。
    // これは、MyAppがHookConsumerWidgetであるからこそ可能なことです。
    final String value = ref.watch(helloWorldProvider);

    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(title: Text('Example')),
        body: Center(
          child: Text(value),
        ),
      ),
    );
  }
}
```

これを `flutter run` で実行することができます。  
これで、あなたの端末に "Hello world "が表示されます。

</TabItem>
<TabItem value="flutter_riverpod">

```dart title="lib/main.dart"
import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';

// ここでは、値（ここでは "Hello world"）を格納する "provider "を作成します。
// プロバイダを使用することで、公開された値をモック/オーバーライドすることができます。
final helloWorldProvider = Provider((_) => 'Hello world');

void main() {
  runApp(
    // ウィジェットがプロバイダを読み込めるようにするためには、
    // アプリケーション全体を「ProviderScope」ウィジェットで包む必要があります。
    // ここには、私たちのプロバイダーの状態が保存されます。
    ProviderScope(
      child: MyApp(),
    ),
  );
}

// StatelessWidgetの代わりに、Riverpodで公開されているConsumerWidgetを拡張します。
class MyApp extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final String value = ref.watch(helloWorldProvider);

    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(title: Text('Example')),
        body: Center(
          child: Text(value),
        ),
      ),
    );
  }
}
```

これを `flutter run` で実行することができます。  
これで、あなたの端末に "Hello world "が表示されます。

</TabItem>
<TabItem value="riverpod">

```dart title="lib/main.dart"
import 'package:riverpod/riverpod.dart';

// ここでは、値（ここでは "Hello world"）を格納する "provider "を作成します。
// プロバイダを使用することで、公開された値をモック/オーバーライドすることができます。
final helloWorldProvider = Provider((_) => 'Hello world');

void main() {
  // このオブジェクトには、プロバイダの状態が保存されます。
  final container = ProviderContainer();

  // "container" のおかげで、私たちはプロバイダをreadすることができます。
  final value = container.read(helloWorldProvider);

  print(value); // Hello world
}
```

これを `dart lib/main.dart` で実行することができます。  
これでコンソールに "Hello world "と表示されます。

</TabItem>
</Tabs>

## さらに詳しく: コードスニペットのインストール

`Flutter` と `Vscode` を使用している場合は、[Flutter Riverpod Snippets](https://marketplace.visualstudio.com/items?itemName=robert-brunhage.flutter-riverpod-snippets)の使用を検討してください。

`Flutter` と `Android Studio` または `IntelliJ` を使用している場合は、[Flutter Riverpod Snippets](https://plugins.jetbrains.com/plugin/14641-flutter-riverpod-snippets)の使用を検討してください。

![img](/img/snippets/greetingProvider.gif)

[riverpod]: https://github.com/rrousselgit/river_pod
[hooks_riverpod]: https://pub.dev/packages/hooks_riverpod
[flutter_riverpod]: https://pub.dev/packages/flutter_riverpod
[flutter_hooks]: https://github.com/rrousselGit/flutter_hooks
